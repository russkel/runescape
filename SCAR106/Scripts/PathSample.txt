program New;
var
  l1, l2, l3: Integer;

procedure GoByPath(path: Integer);
var
  HowFar: Integer;
  x, y: Integer;
  r: Extended;
  Dest: Boolean;
begin
  repeat
    MoveMouse(460,15);
    Wait(300);
    ProcessMap;
    HowFar:= ProcessPath(Path, x, y, r, 0.1);

    Status('HowFar='+IntToStr(HowFar)+' x='+IntToStr(x) + ' y='+IntToStr(y)+' r='+FloatToStr(r));
    if(r > 0.6)then
    begin
      if(HowFar = 0)then
        ClickMap(x, y, True)
      else
        ClickMap(x + Random(3)-1, y + Random(3) - 1, True);
    end;
    Dest:= (HowFar=0)and(x<=19)and(x>=17)and(y<=19)and(y>=17);
    if(not Dest)then
      Wait(5000);
  until(Dest);
end;

var
  DorikPath: Integer;

begin
  l1:= CreateLandmark(10, 9, '000005020002000008020002000008020002000003700003500001000001020002200001700002B00002B10001900001000001020002210001F00001B10001000005020002000001E00001100001000005020002000001E00001110001000005020003E20001720001000005020003A20001B20001');
  l2:= CreateLandmark(14, 15, '00000202000400000B02000300000C02000200000C02000200000C02000200000D02000200000D02000200000D02000200000C02000700000702000700000702000700000602000400000902000400000A02000300000B020002000007');
  l3:= CreateLandmark(9, 12, '600001720002320001720002500001000002E00001B30001B20001320001B20001F30001D00001000002E00001120001020003E20001D00001000002E00001120001020003E20001D00001000002E00001130001020003E20001D00001000002E00001120001020003E20001D00001000002E20001720002320001720001F20001D00001000002A20001B20002320001B20001B00001900001000002020006000006020004000006020004000006020004');
  DorikPath:= CreatePath;
  AddLandmarkToPath(DorikPath, l3, 2, 2);
  AddLandmarkToPath(DorikPath, l2, -5, -5);
  AddLandmarkToPath(DorikPath, l1, 3, -8);
  GoByPath(DorikPath);
end.
